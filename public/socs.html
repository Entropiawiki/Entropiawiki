<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Society Table</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link href="https://cdn.datatables.net/v/bs5/jq-3.7.0/jszip-3.10.1/dt-1.13.8/b-2.4.2/b-colvis-2.4.2/b-html5-2.4.2/fc-4.3.0/fh-3.4.0/r-2.5.0/rg-1.4.1/rr-1.4.1/sb-1.6.0/datatables.min.css" rel="stylesheet">

    <!-- Bootswatch Theme -->
    <link href="https://bootswatch.com/5/flatly/bootstrap.min.css" rel="stylesheet">

    <!-- Your CSS files -->
    <link href="css/dt.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="css/navbar.css" rel="stylesheet" type="text/css">
</head>

<nav class="navbar navbar-expand-xxl navbar-light bg-dark">
    <img src="/Images/logo.png" alt="EntropiaWiki.co.uk Logo" style="height: 80px;">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link" href='/armor.html'>Armor</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href='/weapons.html'>Weapons</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href='/creatures.html'>Creatures</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href='/socs.html'>Societies</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href='/vehicles.html'>Vehicles</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href='/theapi.html'>Api</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href='/other-sites.html'>Other Sites</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href='/dps.html'>DPS Calc</a>
            </li>
        </ul>
    </div>
    <button id="darkModeToggle" type="button" class="btn btn-outline-primary">
        <img id="darkIcon" src="https://icons.getbootstrap.com/assets/icons/lightbulb.svg" alt="Dark Mode Icon">
        <img id="lightIcon" src="https://icons.getbootstrap.com/assets/icons/lightbulb-fill.svg" alt="Light Mode Icon" style="display: none;">
    </button>
</nav>



<table id="societyTable" class="table-auto w-full cell-border compact stripe border-gray-800">
    <thead class="bg-gray-800">
        <tr>
            <th class="px-4 py-2">Name</th>
            <th class="px-4 py-2">Founder</th>
            <th class="px-4 py-2">Leader</th>
            <th class="px-4 py-2">Found Time</th>
            <th class="px-4 py-2">URL</th>
        </tr>
        </thead>
        <tbody>
        <!-- Table data will be dynamically populated here -->
        </tbody>
    </table>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/v/bs5/jq-3.7.0/jszip-3.10.1/dt-1.13.8/b-2.4.2/b-colvis-2.4.2/b-html5-2.4.2/fc-4.3.0/fh-3.4.0/r-2.5.0/rg-1.4.1/rr-1.4.1/sb-1.6.0/datatables.min.js"></script>
<script src="js/darkmode.js"></script>


<script>
    $(document).ready(function () {
        // Fetch society data from the server
        $.ajax({
            url: '/api/societies', // Update the URL to your API endpoint
            method: 'GET',
            dataType: 'json',
            success: function (societyData) {
                console.log('Fetched society data:', societyData);

                // Initialize DataTable with the society data
                $('#societyTable').DataTable({
                    data: societyData,
                    columns: [
                        { data: 'Name' },
                        { data: 'Founder_' },
                        { data: 'Leader_' },
                        { data: 'FoundTime' },
                        { data: 'URL' },
                    ],
                    paging: true, // Enable pagination
                    autoWidth: true,
                    ordering: true,
                    pagingType: "full",
                    dom: '<"top"f>rt<"bottom"lip><"clear">',
                    lengthMenu: [[10, 25, 50, -1], [10, 25, 50, "All"]],
                    pageLength: 20,
                });
            },
            error: function (error) {
                console.error('Error fetching society data:', error);
            }
        });
    });
</script>
</body>
<!-- Footer -->
<footer class="bg-gray-800 text-black text-center py-2">
    <div class="container mx-auto">
        <p>&copy; 2024 EntropiaWiki.co.uk</p>
        <a href="https://github.com/entropiawiki/entropiawiki" target="_blank">
            <img src="https://icons.getbootstrap.com/assets/icons/github.svg" alt="GitHub Logo" class="h-6 inline-block">
        </a>
    </div>
</footer>
</html>
